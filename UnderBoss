import java.util.*;

public class UnderBoss extends Pessoas{
    
    public void MenuUnderBoss() {
        Familia fam = new Familia();
        int option = -1;
        Scanner scanchoice = new Scanner(System.in);
        while (option < 1 || option > 5) {
            System.out.println("1- Libertar mafioso:");
            System.out.println("2- Período contabilístico:");
            System.out.println("3- Loyalty test:");
            System.out.println("4- Voltar.");
            System.out.println("Escolha a opção:");
            if (scanchoice.hasNextInt()) {
                option = scanchoice.nextInt();
            }
        }
        switch (option) {
            case 1:
                System.out.println("Libertar mafioso:");
                fam.Menu();
                break;
            case 2:
                System.out.println("Período contabilístico:");
                fam.Menu();
                break;
            case 3:
                System.out.println("Loyalty test:");
                LoyaltyTest();
                fam.Menu();
                break;
            case 4:
                System.out.println("Voltar.");
                fam.Menu();
            default:
                System.out.println("Opcao invalida");
        }
    }

    public void LibertaMafio() {
    }

    public void PeriodoConta() {
    }

    public void LoyaltyTest() {
        Mafia maf =new Mafia();
        int fam = maf.MenuMafia();
        int leal=0;
        String n = "";
        String a = "";
        
        if (fam == 1) {
            a = "Bonanno";
        } else if (fam == 2) {
            a = "Colombo";
        } else if (fam == 3) {
            a = "Gambino";
        } else if (fam == 4) {
            a = "Genevese";
        } else if (fam == 5) {
            a = "Lucchese";
        }
        for(int i=0;i<getPeople().size();i++){
            n = getApelido(i);
            if (n == a) {
                leal=getLealdade(i);
                int rand= Random();
                if(rand>leal){
                    addObituario(getPeople(i));
                    System.out.println("Foi encontrado um informador. " + "Pessoa: " + getNome(i) + "  Lealdade: " + getLealdade(i) + " :)");
                    retiraPessoa(i);
                }   
            }
        } 
        System.out.println("-> Não foram encontrados mais informadores.");
    }
}
